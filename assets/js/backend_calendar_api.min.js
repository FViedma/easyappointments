window.BackendCalendarApi=window.BackendCalendarApi||{},function(a){"use strict";a.saveAppointment=function(a,n,e,i){var o=GlobalVariables.baseUrl+"/index.php/backend_api/ajax_save_appointment",t={csrfToken:GlobalVariables.csrfToken,appointment_data:JSON.stringify(a)};n&&(t.customer_data=JSON.stringify(n)),$.post(o,t).done(function(a){e&&e(a)}).fail(function(a,n,e){i&&i()})},a.saveUnavailable=function(a,n,e){var i=GlobalVariables.baseUrl+"/index.php/backend_api/ajax_save_unavailable",o={csrfToken:GlobalVariables.csrfToken,unavailable:JSON.stringify(a)};$.post(i,o).done(function(a){n&&n(a)}).fail(function(a,n,i){e&&e()})},a.saveWorkingPlanException=function(a,n,e,i,o){var t=GlobalVariables.baseUrl+"/index.php/backend_api/ajax_save_working_plan_exception",l={csrfToken:GlobalVariables.csrfToken,date:a,working_plan_exception:n,provider_id:e};$.post(t,l).done(function(a){i&&i(a)}).fail(function(a,n,e){o&&o()})},a.deleteWorkingPlanException=function(a,n,e,i){var o=GlobalVariables.baseUrl+"/index.php/backend_api/ajax_delete_working_plan_exception",t={csrfToken:GlobalVariables.csrfToken,date:a,provider_id:n};$.post(o,t).done(function(a){e&&e(a)}).fail(function(a,n,e){i&&i()})},a.getPatientByCI=function(a,n){var e=GlobalVariables.baseUrl+"/index.php/Backend_api/ajax_get_patient_by_ci",i={patientCI:a,complement:n};$.ajax({url:e,type:"GET",data:i,dataType:"json"}).done(function(a){null==a?($("#form-message").empty(),$("#appointment-message").empty(),$("#save-appointment").prop("disabled",!0),GeneralFunctions.displayMessageBox(EALang.message,EALang.patient_not_found)):($("#first-name").val(a.HCL_NOMBRE),$("#last-name").val(a.HCL_APPAT+" "+a.HCL_APMAT),$("#clinical-story").val(a.HCL_CODIGO),$("#save-appointment").prop("disabled",!1))})}}(window.BackendCalendarApi);