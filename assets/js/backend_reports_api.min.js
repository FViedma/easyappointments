window.BackendReportsApi=window.BackendReportsApi||{},function(t){window.BackendReportsApi.getAppointmentsBySpecialities=function(t){var e=GlobalVariables.baseUrl+"/index.php/Backend_api/ajax_get_appointments_by_specialities",a={csrfToken:GlobalVariables.csrfToken,speciality_value:t};$.ajax({url:e,type:"GET",data:a,dataType:"json"}).done(function(t){t.length>0&&function(t){let e={};t.forEach(t=>{e.hasOwnProperty(t.speciality.name+" - "+t.doctor.first_name+" "+t.doctor.last_name)||(e[t.speciality.name+" - "+t.doctor.first_name+" "+t.doctor.last_name]={patients:[]}),e[t.speciality.name+" - "+t.doctor.first_name+" "+t.doctor.last_name].patients.push({name:t.patient.first_name,lastname:t.patient.last_name,clinical_story:t.patient.clinical_story,diagnostic:t.notes,municipality:t.municipality,medical_center:t.medical_center,doc_name:t.doctor.first_name,doc_last_name:t.doctor.last_name})});var a=new jsPDF("p","pt","letter");60,60;var n=30,i=30,o=40;Object.entries(e).forEach(([t,e])=>{a.setFont("helvetica"),a.setFontType("bold"),a.setFontSize(10),a.text(30,i,t),Object.entries(e).forEach(([t,e])=>{var i=e.length-1;e.forEach(t=>{if(a.setFont("courier"),a.setFontType("normal"),a.setFontSize(10),a.text(n,o,t.name+" "+t.lastname),a.text(n,o+10,t.clinical_story),a.text(n,o+20,t.diagnostic+" "),a.text(n,o+30,t.municipality),a.text(n,o+40,t.medical_center),e.indexOf(t)<i){var c=n+200+5;c>552?(n=30,(o+=60)>=732&&(a.addPage(),o=30)):n=c}})}),i=o+=60,o+=10,n=30});var c=a.output("bloburi");$(".preview-pane").attr("src",c)}(t)})}}();